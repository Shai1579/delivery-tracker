[{"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\index.js":"1","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\serviceWorkerRegistration.js":"2","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\App.jsx":"4","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryTrack.jsx":"5","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryDisplay.jsx":"6","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\socketService.js":"7","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\locationService.js":"8","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Msg.jsx":"9","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Map.jsx":"10","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\CountDown.jsx":"11","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\config\\config.js":"12","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\httpService.js":"13","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\Share.jsx":"14"},{"size":813,"mtime":1629029005023,"results":"15","hashOfConfig":"16"},{"size":5201,"mtime":1629029005026,"results":"17","hashOfConfig":"16"},{"size":377,"mtime":1629029005025,"results":"18","hashOfConfig":"16"},{"size":679,"mtime":1629762020664,"results":"19","hashOfConfig":"16"},{"size":3162,"mtime":1629029005024,"results":"20","hashOfConfig":"16"},{"size":3704,"mtime":1629761750554,"results":"21","hashOfConfig":"16"},{"size":625,"mtime":1629029005027,"results":"22","hashOfConfig":"16"},{"size":546,"mtime":1629029005027,"results":"23","hashOfConfig":"16"},{"size":214,"mtime":1629029005022,"results":"24","hashOfConfig":"16"},{"size":1651,"mtime":1629029005022,"results":"25","hashOfConfig":"16"},{"size":1011,"mtime":1629037340268,"results":"26","hashOfConfig":"16"},{"size":71,"mtime":1629029005023,"results":"27","hashOfConfig":"16"},{"size":1024,"mtime":1629029005026,"results":"28","hashOfConfig":"16"},{"size":1126,"mtime":1629762716798,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"265gjg",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\index.js",[],["61","62"],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\serviceWorkerRegistration.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\App.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryTrack.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryDisplay.jsx",["63"],"import { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router\"\r\nimport { socketService } from \"../services/socketService\"\r\nimport { Map } from \"../cmps/Map\"\r\nimport { CountDown } from \"../cmps/CountDown\"\r\nimport { locationService } from \"../services/locationService\"\r\n\r\nexport function DeliveryDisplay() {\r\n\r\n    const { id, lat, lng, estimatedTime, estimatedTimeTo, estimatedDate } = useParams()\r\n\r\n    const [coords, setCoords] = useState(null)\r\n    const [directions, setDirections] = useState(null)\r\n    const [timeLeft, setTimeLeft] = useState(null)\r\n    const [isCounting, setIsCounting] = useState(true)\r\n\r\n    useEffect(() => {\r\n        socketService.setup()\r\n        socketService.emit('register customer', id)\r\n        socketService.on('new coords', onNewCoords)\r\n        return () => {\r\n            socketService.off('new coords')\r\n            socketService.terminate()\r\n        }\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        if (!directions && coords) onSetDirections(coords)\r\n    }, [coords])\r\n\r\n    const onNewCoords = (newCoords) => {\r\n        setCoords(newCoords)\r\n    }\r\n\r\n    const onSetDirections = async (coords) => {\r\n        if (directions) return\r\n        const newDirections = await locationService.getDirections({ lat, lng }, coords)\r\n        setDirections(newDirections.routes[0].legs[0])\r\n        if (newDirections.endTime) setTimeLeft(newDirections.endTime - Date.now())\r\n        else {\r\n            const arrivalTime = Date.now() + newDirections.routes[0]?.legs[0].duration.value\r\n            setTimeLeft(arrivalTime - Date.now())\r\n        }\r\n    }\r\n    const timeTextString = estimatedTimeTo ? \" 砖注转:\" : \"砖注:\";\r\n    return (\r\n        <main className=\"delivery-display\">\r\n            {coords && isCounting &&\r\n                <div className=\"map-container\">\r\n                    <Map coords={coords} userPos={{ lat: +lat, lng: +lng }} />\r\n                </div>\r\n            }\r\n            {directions && isCounting ?\r\n                <section className=\"matrix-container\">\r\n                    <div className=\"timer flex center\">\r\n                        {timeLeft && <CountDown sec={(timeLeft / 1000)} isCounting={isCounting} setIsCounting={setIsCounting} getDirections={() => onSetDirections(coords)} />}\r\n                    </div>\r\n                </section>\r\n                :coords && \r\n                <div className=\"finish flex col center\">\r\n                    <h2>转..</h2>\r\n                    <h2> 拽爪转 拽  注砖</h2>\r\n                    <h1>转!</h1>\r\n                </div>\r\n            }\r\n            {!coords &&\r\n                <section className=\"pre-display flex col center\">\r\n                    <h1> 祝!  砖  コ</h1>\r\n                    <h4> .  驻 砖 砖 拽 爪专 专,  砖 砖 , 注 拽.</h4>\r\n                    {estimatedDate && \r\n                    <h3> 砖 注 转专: <span>{estimatedDate}</span></h3>\r\n                    }\r\n                    {estimatedTime && \r\n                    <h3> {!estimatedDate && '砖 注 ' } {timeTextString} <span>{estimatedTime}</span></h3>\r\n                    }\r\n                    <h4>专注 砖  , 转驻转  驻 注 拽 砖 住驻专 专 注 砖注!</h4>\r\n                    <h3> </h3>\r\n                    <h3> </h3>\r\n                    <h3> </h3>\r\n                    <h3> </h3>\r\n                </section>\r\n            }\r\n        </main>\r\n    )\r\n}","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\socketService.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\locationService.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Msg.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Map.jsx",["64","65"],"import React, { memo, useCallback, useEffect, useState } from 'react'\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\nimport bikeIcon from '../assets/img/red-scooter.png'\r\nimport hungryIcon from '../assets/img/red-home.png'\r\nimport { GOOGLE_API_KEY } from '../config/config.js'\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '100%'\r\n};\r\n\r\n\r\nfunction MyComponent({ coords, userPos }) {\r\n\r\n  const { isLoaded } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: GOOGLE_API_KEY\r\n  })\r\n\r\n  const [count, setCount] = useState(0)\r\n  const [map, setMap] = useState(null)\r\n  const [center, setCenter] = useState(null)\r\n  const [zoom, setZoom] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (!center && coords && isLoaded) {\r\n      setCenter(coords)\r\n      setZoom(16)\r\n    } else if (isLoaded && count > 4) {\r\n      setCenter(coords)\r\n      setCount(0)\r\n    } else setCount(count + 1)\r\n  }, [coords])\r\n  \r\n  const onLoad = useCallback(map => {\r\n    const bounds = new window.google.maps.LatLngBounds();\r\n    map.fitBounds(bounds);\r\n    setMap(map)\r\n  }, [])\r\n\r\n  const onUnmount = useCallback(map => {\r\n    setMap(null)\r\n  }, [])\r\n\r\n  return (isLoaded) ? (\r\n    <GoogleMap\r\n      mapContainerStyle={containerStyle}\r\n      center={center}\r\n      zoom={zoom}\r\n      onLoad={onLoad}\r\n      onUnmount={onUnmount}\r\n    >\r\n      <Marker\r\n        icon={bikeIcon}\r\n        position={coords}\r\n      />\r\n      {userPos &&\r\n        <Marker\r\n          icon={hungryIcon}\r\n          position={userPos}\r\n        />\r\n      }\r\n\r\n      <></>\r\n    </GoogleMap>\r\n  ) : <></>\r\n}\r\n\r\nexport const Map = memo(MyComponent)","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\CountDown.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\config\\config.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\httpService.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\Share.jsx",[],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":29,"column":8,"nodeType":"72","endLine":29,"endColumn":16,"suggestions":"73"},{"ruleId":"74","severity":1,"message":"75","line":21,"column":10,"nodeType":"76","messageId":"77","endLine":21,"endColumn":13},{"ruleId":"70","severity":1,"message":"78","line":33,"column":6,"nodeType":"72","endLine":33,"endColumn":14,"suggestions":"79"},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'directions' and 'onSetDirections'. Either include them or remove the dependency array.","ArrayExpression",["82"],"no-unused-vars","'map' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'center', 'count', and 'isLoaded'. Either include them or remove the dependency array. You can also do a functional update 'setCount(c => ...)' if you only need 'count' in the 'setCount' call.",["83"],"no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},{"desc":"86","fix":"87"},"Update the dependencies array to be: [coords, directions, onSetDirections]",{"range":"88","text":"89"},"Update the dependencies array to be: [center, coords, count, isLoaded]",{"range":"90","text":"91"},[1022,1030],"[coords, directions, onSetDirections]",[945,953],"[center, coords, count, isLoaded]"]