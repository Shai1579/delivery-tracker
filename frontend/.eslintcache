[{"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\index.js":"1","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\serviceWorkerRegistration.js":"2","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\App.jsx":"4","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryTrack.jsx":"5","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryDisplay.jsx":"6","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\socketService.js":"7","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\locationService.js":"8","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Msg.jsx":"9","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Map.jsx":"10","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\CountDown.jsx":"11","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\config\\config.js":"12","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\httpService.js":"13","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\Share.jsx":"14"},{"size":813,"mtime":1629029005023,"results":"15","hashOfConfig":"16"},{"size":5201,"mtime":1629029005026,"results":"17","hashOfConfig":"16"},{"size":377,"mtime":1629029005025,"results":"18","hashOfConfig":"16"},{"size":679,"mtime":1629762020664,"results":"19","hashOfConfig":"16"},{"size":3162,"mtime":1629029005024,"results":"20","hashOfConfig":"16"},{"size":5963,"mtime":1634110808021,"results":"21","hashOfConfig":"16"},{"size":625,"mtime":1629029005027,"results":"22","hashOfConfig":"16"},{"size":546,"mtime":1629029005027,"results":"23","hashOfConfig":"16"},{"size":214,"mtime":1629029005022,"results":"24","hashOfConfig":"16"},{"size":1651,"mtime":1629029005022,"results":"25","hashOfConfig":"16"},{"size":1011,"mtime":1629037340268,"results":"26","hashOfConfig":"16"},{"size":71,"mtime":1629029005023,"results":"27","hashOfConfig":"16"},{"size":1024,"mtime":1629029005026,"results":"28","hashOfConfig":"16"},{"size":2447,"mtime":1632941972354,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"265gjg",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\index.js",[],["62","63"],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\serviceWorkerRegistration.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\App.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryTrack.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\DeliveryDisplay.jsx",["64"],"import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { socketService } from \"../services/socketService\";\r\nimport { Map } from \"../cmps/Map\";\r\nimport { CountDown } from \"../cmps/CountDown\";\r\nimport { locationService } from \"../services/locationService\";\r\n\r\nexport function DeliveryDisplay() {\r\n  const { id, lat, lng, estimatedTime, estimatedTimeTo, estimatedDate } =\r\n    useParams();\r\n\r\n  const [coords, setCoords] = useState(null);\r\n  const [directions, setDirections] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(null);\r\n  const [isCounting, setIsCounting] = useState(true);\r\n\r\n  useEffect(() => {\r\n    socketService.setup();\r\n    socketService.emit(\"register customer\", id);\r\n    socketService.on(\"new coords\", onNewCoords);\r\n    return () => {\r\n      socketService.off(\"new coords\");\r\n      socketService.terminate();\r\n    };\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (!directions && coords) onSetDirections(coords);\r\n  }, [coords]);\r\n\r\n  const onNewCoords = (newCoords) => {\r\n    setCoords(newCoords);\r\n  };\r\n\r\n  const facebookPixel = `<!-- Facebook Pixel Code -->\r\n  <script>\r\n  !function(f,b,e,v,n,t,s)\r\n  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\r\n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};\r\n  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\r\n  n.queue=[];t=b.createElement(e);t.async=!0;\r\n  t.src=v;s=b.getElementsByTagName(e)[0];\r\n  s.parentNode.insertBefore(t,s)}(window, document,'script',\r\n  'https://connect.facebook.net/en_US/fbevents.js');\r\n  fbq('init', '628111641320536');\r\n  fbq('track', 'PageView');\r\n  fbq('track', 'Purchase', {currency: \"ILS\", value: 45.00});\r\n  </script>\r\n    <!-- End Facebook Pixel Code -->\r\n    \r\n    <script>\r\n    !function(f,b,e,v,n,t,s)\r\n    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\r\n    n.callMethod.apply(n,arguments):n.queue.push(arguments)};\r\n    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\r\n    n.queue=[];t=b.createElement(e);t.async=!0;\r\n    t.src=v;s=b.getElementsByTagName(e)[0];\r\n    s.parentNode.insertBefore(t,s)}(window, document,'script',\r\n    'https://connect.facebook.net/en_US/fbevents.js');\r\n    fbq('init', '613307406335941');\r\n    fbq('track', 'PageView');\r\n    fbq('track', 'Purchase', {currency: \"ILS\", value: 45.00});\r\n    </script>`;\r\n  const onSetDirections = async (coords) => {\r\n    if (directions) return;\r\n    const newDirections = await locationService.getDirections(\r\n      { lat, lng },\r\n      coords\r\n    );\r\n    setDirections(newDirections.routes[0].legs[0]);\r\n    if (newDirections.endTime) setTimeLeft(newDirections.endTime - Date.now());\r\n    else {\r\n      const arrivalTime =\r\n        Date.now() + newDirections.routes[0]?.legs[0].duration.value;\r\n      setTimeLeft(arrivalTime - Date.now());\r\n    }\r\n  };\r\n  function htmlDecode(html) {\r\n    return html.replace(/&([a-z]+);/gi, (match, entity) => {\r\n      const entities = {\r\n        amp: \"&\",\r\n        apos: \"'\",\r\n        gt: \">\",\r\n        lt: \"<\",\r\n        nbsp: \"\\xa0\",\r\n        quot: '\"',\r\n      };\r\n      entity = entity.toLowerCase();\r\n      if (entities.hasOwnProperty(entity)) {\r\n        return entities[entity];\r\n      }\r\n      return match;\r\n    });\r\n  }\r\n  const timeTextString = estimatedTimeTo ? \"בין השעות:\" : \"בשעה:\";\r\n  const hoursTimeString = estimatedTimeTo\r\n    ? estimatedTime + \" - \" + estimatedTimeTo\r\n    : estimatedTime;\r\n  return (\r\n    <main className=\"delivery-display\">\r\n      <div dangerouslySetInnerHTML={{ __html: htmlDecode(facebookPixel) }} />\r\n      <img\r\n        height=\"1\"\r\n        width=\"1\"\r\n        alt=\"nothing\"\r\n        style={{ display: \"none\" }}\r\n        src=\"https://www.facebook.com/tr?id=628111641320536&ev=PageView&noscript=1\"\r\n      />\r\n      <img\r\n        height=\"1\"\r\n        width=\"1\"\r\n        alt=\"nothing\"\r\n        style={{ display: \"none\" }}\r\n        src=\"https://www.facebook.com/tr?id=613307406335941&ev=PageView&noscript=1\"\r\n      />\r\n      {coords && isCounting && (\r\n        <div className=\"map-container\">\r\n          <Map coords={coords} userPos={{ lat: +lat, lng: +lng }} />\r\n        </div>\r\n      )}\r\n      {directions && isCounting ? (\r\n        <section className=\"matrix-container\">\r\n          <div className=\"timer flex center\">\r\n            {timeLeft && (\r\n              <CountDown\r\n                sec={timeLeft / 1000}\r\n                isCounting={isCounting}\r\n                setIsCounting={setIsCounting}\r\n                getDirections={() => onSetDirections(coords)}\r\n              />\r\n            )}\r\n          </div>\r\n        </section>\r\n      ) : (\r\n        coords && (\r\n          <div className=\"finish flex col center\">\r\n            <h2>האמת..</h2>\r\n            <h2>אנחנו קצת מקנאים בכם עכשיו🙁</h2>\r\n            <h1>בתיאבון!</h1>\r\n          </div>\r\n        )\r\n      )}\r\n      {!coords && (\r\n        <section className=\"pre-display flex col center\">\r\n          <h1>איזה כיף! אנחנו נמשיך מכאן 🥳</h1>\r\n          <h4>\r\n            ההזמנה בהכנה. יום לפני המשלוח הבשלן קונה מצרכים טריים, וביום המשלוח\r\n            מבשל הכל, על המקום.\r\n          </h4>\r\n          {estimatedDate && (\r\n            <h3>\r\n              {\" \"}\r\n              המשלוח יגיע בתאריך: <span>{estimatedDate}</span>\r\n            </h3>\r\n          )}\r\n          {estimatedTime && (\r\n            <h3>\r\n              {\" \"}\r\n              {!estimatedDate && \"המשלוח יגיע \"} {timeTextString}{\" \"}\r\n              <span>{hoursTimeString}</span>\r\n            </h3>\r\n          )}\r\n          <h4>\r\n            ברגע שהאוכל יהיה מוכן, תיפתח כאן מפה עם מיקום השליח וספירה לאחור עד\r\n            שיגיע!\r\n          </h4>\r\n          <h3> </h3>\r\n          <h3> </h3>\r\n          <h3> </h3>\r\n          <h3> </h3>\r\n        </section>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\socketService.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\locationService.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Msg.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\Map.jsx",["65","66"],"import React, { memo, useCallback, useEffect, useState } from 'react'\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\nimport bikeIcon from '../assets/img/red-scooter.png'\r\nimport hungryIcon from '../assets/img/red-home.png'\r\nimport { GOOGLE_API_KEY } from '../config/config.js'\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '100%'\r\n};\r\n\r\n\r\nfunction MyComponent({ coords, userPos }) {\r\n\r\n  const { isLoaded } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: GOOGLE_API_KEY\r\n  })\r\n\r\n  const [count, setCount] = useState(0)\r\n  const [map, setMap] = useState(null)\r\n  const [center, setCenter] = useState(null)\r\n  const [zoom, setZoom] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (!center && coords && isLoaded) {\r\n      setCenter(coords)\r\n      setZoom(16)\r\n    } else if (isLoaded && count > 4) {\r\n      setCenter(coords)\r\n      setCount(0)\r\n    } else setCount(count + 1)\r\n  }, [coords])\r\n  \r\n  const onLoad = useCallback(map => {\r\n    const bounds = new window.google.maps.LatLngBounds();\r\n    map.fitBounds(bounds);\r\n    setMap(map)\r\n  }, [])\r\n\r\n  const onUnmount = useCallback(map => {\r\n    setMap(null)\r\n  }, [])\r\n\r\n  return (isLoaded) ? (\r\n    <GoogleMap\r\n      mapContainerStyle={containerStyle}\r\n      center={center}\r\n      zoom={zoom}\r\n      onLoad={onLoad}\r\n      onUnmount={onUnmount}\r\n    >\r\n      <Marker\r\n        icon={bikeIcon}\r\n        position={coords}\r\n      />\r\n      {userPos &&\r\n        <Marker\r\n          icon={hungryIcon}\r\n          position={userPos}\r\n        />\r\n      }\r\n\r\n      <></>\r\n    </GoogleMap>\r\n  ) : <></>\r\n}\r\n\r\nexport const Map = memo(MyComponent)","C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\cmps\\CountDown.jsx",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\config\\config.js",[],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\services\\httpService.js",[],["67","68"],"C:\\Users\\user\\Documents\\delivery-tracker\\frontend\\src\\pages\\Share.jsx",[],{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":29,"column":6,"nodeType":"75","endLine":29,"endColumn":14,"suggestions":"76"},{"ruleId":"77","severity":1,"message":"78","line":21,"column":10,"nodeType":"79","messageId":"80","endLine":21,"endColumn":13},{"ruleId":"73","severity":1,"message":"81","line":33,"column":6,"nodeType":"75","endLine":33,"endColumn":14,"suggestions":"82"},{"ruleId":"69","replacedBy":"83"},{"ruleId":"71","replacedBy":"84"},"no-native-reassign",["85"],"no-negated-in-lhs",["86"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'directions' and 'onSetDirections'. Either include them or remove the dependency array.","ArrayExpression",["87"],"no-unused-vars","'map' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'center', 'count', and 'isLoaded'. Either include them or remove the dependency array. You can also do a functional update 'setCount(c => ...)' if you only need 'count' in the 'setCount' call.",["88"],["85"],["86"],"no-global-assign","no-unsafe-negation",{"desc":"89","fix":"90"},{"desc":"91","fix":"92"},"Update the dependencies array to be: [coords, directions, onSetDirections]",{"range":"93","text":"94"},"Update the dependencies array to be: [center, coords, count, isLoaded]",{"range":"95","text":"96"},[990,998],"[coords, directions, onSetDirections]",[945,953],"[center, coords, count, isLoaded]"]